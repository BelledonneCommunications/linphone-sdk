dnl Process this file with autoconf to produce a configure script.
AC_INIT(CUnit/Sources/AssertImpl.c)
AM_INIT_AUTOMAKE(CUnit, 0.1)

PACKAGE=CUnit
VERSION=0.1

CFLAGS="-I$PWD/CUnit/Headers"
CPPFLAGS="-I$PWD/CUnit/Headers"
LDFALGS="-L$PWD/CUnit/Sources"

AC_ARG_ENABLE(debug,
[--enable-debug  Compiling/Linking in Debug Mode],
	[ CFLAGS="-I$PWD/CUnit/Headers"
	  LDFALGS="-L$PWD/CUnit/Sources"
	  LDADD="-lcunit" ]
	[ CFLAGS="-I$PWD/CUnit/Headers"
	  LDFALGS="-L$PWD/CUnit/Sources"
	  LDADD="-lcunit" ])

AM_CONDITIONAL(DEBUG, test 0 -eq 0)

dnl Checks for programs.
AC_PROG_CC
AC_PROG_INSTALL
AC_PROG_RANLIB
AC_PROG_MAKE_SET

dnl Checks for libraries.
dnl Replace `main' with a function in -lc:
AC_CHECK_LIB(c, main)

dnl Replace `main' with a function in -lmcheck:
AC_CHECK_LIB(mcheck, main)

dnl Checks for header files.
AC_HEADER_STDC

dnl Checks for typedefs, structures, and compiler characteristics.
AC_C_CONST

AC_OUTPUT( Makefile \
		  CUnit/Makefile \
		  CUnit/Sources/Makefile \
		  CUnit/Headers/Makefile \
		  Examples/Makefile \
		  Examples/ConsoleTest/Makefile \
		  Share/Makefile )
