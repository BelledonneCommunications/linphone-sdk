dnl Process this file with autoconf to produce a configure script.
AC_INIT(CUnit/Sources/Framework/AssertImpl.c)
AM_INIT_AUTOMAKE(CUnit, 1.0-6)

PACKAGE=CUnit
VERSION=1.0
RELEASE=6

TOPDIR=`pwd`

CFLAGS="-DRELEASE=@RELEASE@ -Wall -I${PWD}/CUnit/Headers -g"
LDFLAGS="-L${PWD}/CUnit/Sources"

dnl Checks for programs.
AC_PROG_CC
AC_PROG_INSTALL
AC_PROG_RANLIB
AC_PROG_MAKE_SET

dnl Checks for libraries
AC_CHECK_LIB(c, main)  dnl Check for -lc
AC_CHECK_LIB(ncurses, main)  dnl Check for -lncurses

dnl Checks for header files.
AC_HEADER_STDC
AC_CHECK_HEADERS(assert.h)
AC_CHECK_HEADERS(ctype.h)
AC_CHECK_HEADERS(curses.h)
AC_CHECK_HEADERS(math.h)
AC_CHECK_HEADERS(file.h)
AC_CHECK_HEADERS(stdio.h)
AC_CHECK_HEADERS(stdlib.h)
AC_CHECK_HEADERS(string.h)

dnl Checks for typedefs, structures, and compiler characteristics.
AC_C_CONST

AC_SUBST(PACKAGE)
AC_SUBST(VERSION)
AC_SUBST(RELEASE)

AC_OUTPUT( Makefile \
	      CUnit.spec \
		  CUnit/Makefile \
		  CUnit/Headers/Makefile \
		  CUnit/Sources/Makefile \
		  CUnit/Sources/Framework/Makefile \
		  CUnit/Sources/Automated/Makefile \
		  CUnit/Sources/Console/Makefile \
		  CUnit/Sources/Curses/Makefile \
		  Examples/Makefile \
		  Examples/AutomatedTest/Makefile \
		  Examples/ConsoleTest/Makefile \
		  Examples/CursesTest/Makefile \
		  Man/Makefile \
		  Man/man3/Makefile \
		  Man/man8/Makefile )
