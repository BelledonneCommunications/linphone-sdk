dnl Process this file with autoconf to produce a configure script.
AC_INIT(CUnit/Sources/Framework/AssertImpl.c)
AM_INIT_AUTOMAKE(CUnit, 1.0)

PACKAGE=CUnit
VERSION=1.0
RELEASE=3

TOPDIR=`pwd`

CFLAGS="-Wall -I`pwd`/CUnit/Headers -g"
LDFLAGS="-L`pwd`/CUnit/Sources"

AM_CONDITIONAL(DEBUG, test 0 -eq 0)

dnl Checks for programs.
AC_PROG_CC
AC_PROG_INSTALL
AC_PROG_RANLIB
AC_PROG_MAKE_SET

dnl Checks for libraries.
dnl Replace `main' with a function in -lc:
AC_CHECK_LIB(c, main)

dnl Replace `main' with a function in -lmcheck:
AC_CHECK_LIB(mcheck, main)

dnl Checks for header files.
AC_HEADER_STDC

dnl Checks for typedefs, structures, and compiler characteristics.
AC_C_CONST

AC_SUBST(PACKAGE)
AC_SUBST(VERSION)
AC_SUBST(RELEASE)

AC_OUTPUT( Makefile \
		  CUnit/Makefile \
		  CUnit/Headers/Makefile \
		  CUnit/Sources/Makefile \
		  CUnit/Sources/Framework/Makefile \
		  CUnit/Sources/Console/Makefile \
		  CUnit/Sources/Curses/Makefile \
		  Examples/Makefile \
		  Examples/ConsoleTest/Makefile \
		  Examples/CursesTest/Makefile \
		  Man/Makefile \
		  Man/man3/Makefile \
		  Man/man8/Makefile \
		  RPM/Makefile
		  RPM/CUnit.spec )
